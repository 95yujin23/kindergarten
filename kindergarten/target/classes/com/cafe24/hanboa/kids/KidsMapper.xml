<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cafe24.hanboa.kids.KidsMapper">

<!-- 영유아 목록 조회 -->	
	<select id="getKidsList"
			resultType="com.cafe24.hanboa.kids.Kids">
		SELECT 
			kids_cd as kidsCd
			, kids_nm 				as kidsNm
			, kids_date_of_birth	as kidsDateOfBirth
			, kids_address 			as kidsAddress
			, kids_parent_phone 	as kidsParentPhone
			, kids_spare_phone 		as kidsSparePhone
			, kids_gender 			as kidsGender
			, kids_commuting_type 	as kidsCommutingType
			, kids_caution 			as kidsCaution
			, kids_admission 		as kidsAdmission
			, kids_graduation 		as kidsGraduation
			, license_kindergarten 	as licenseKindergarten
		FROM hanboa.TB_KIDS
	</select>
	
	<!-- 영유아 편성 반별 조회-->
	<select id="getKidsListByClass"
			resultType="com.cafe24.hanboa.kids.Kids"
			parameterType="com.cafe24.hanboa.teacher.Teacher">
		SELECT
			KC.kids_class_cd	AS kidsClassCd
			, KC.class_nm		AS classNm
			, KCF.kids_cd		AS kidsCd
			, K.kids_nm			AS kidsNm
			, K.kids_gender		AS kidsGender
			, T.teacher_cd		AS teacherCd
			, T.teacher_nm		AS teacherNm
		FROM TB_KIDS_CLASS_FORMATION KCF
		INNER JOIN TB_KIDS_CLASS KC
		ON KCF.kids_class_cd = KC.kids_class_cd
		INNER JOIN TB_KIDS K
		ON K.kids_cd = KCF.kids_cd
		INNER JOIN TB_TEACHER_CLASS_FORMATION TCF
		ON TCF.kids_class_cd = KCF.kids_class_cd
		INNER JOIN TB_TEACHERS T
		ON T.teacher_cd = TCF.teacher_cd
		WHERE T.teacher_cd = #{teacherCd}
	</select>
	
<!-- 영유아 개인 조회 -->

<!-- 영유아 등록 -->
	<insert id="insertKids"
			parameterType="com.cafe24.hanboa.kids.Kids"></insert>
			
<!-- 영유아 수정 -->
	<update id="updateKids"
			parameterType="com.cafe24.hanboa.kids.Kids"></update>
			
<!-- 영유아 삭제 -->
	<delete id="deleteKids"
			parameterType="com.cafe24.hanboa.kids.Kids"></delete>
</mapper>